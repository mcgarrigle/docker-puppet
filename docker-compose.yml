version: '2'

services:
  puppet:
    container_name: puppet
    hostname: puppet
    build: ./puppet-image
    image: puppet:latest
    volumes:
      - ./production:/etc/puppetlabs/code/environments/production
    networks:
      - lan
    ports:
      - 8140
  server1:
    container_name: server1
    hostname: server1
    build: ./server-image
    image: server:latest
    networks:
      - lan

networks:
  lan:
