version: '2'

services:
  puppet:
    hostname: puppet.local
    build: ./puppet-image
    image: puppet:latest
    volumes:
      - ./root:/root
      - ./environments:/etc/puppetlabs/code/environments
    networks:
      - lan
    ports:
      - 8142:8140
  server1:
    hostname: server1.local
    build: ./server-image
    image: server:latest
    networks:
      - lan

networks:
  lan:
